################################## readUrl() ###################################
#------------------------------------------------------------------------------#

### Last updated: 2023-09-21 ###################################################

#------------------------------------------------------------------------------#
## Required packages ----------------------------------------------------------#
#------------------------------------------------------------------------------#

require(rvest)

#------------------------------------------------------------------------------#
## Function -------------------------------------------------------------------#
#------------------------------------------------------------------------------#

# readUrl()
# 
# Scrapes a URL and returns the HTML or a numeric value if an error occurs
# @param url link to a URL that should be scraped
# @return HTML or numeric value

readUrl <- function(url) {
  out <- tryCatch( {
    base <- read_html(url)
  },
  error = function(cond) {
    message(paste("URL does not seem to exist:", url))
    message("Here's the original error message:")
    message(cond)
    # return value in case of error
    out <- 1
  }
  )
  return(out)
}

#------------------------------------------------------------------------------#
#------------------------------------------------------------------------------#